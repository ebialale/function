<!DOCTYPE html>
<html>

<head>
    <title>test</title>
    <link rel="stylesheet" type="text/css" href="test.css">
    <script src="dummy.js"></script>
</head>

<body>
    <h1>Welcome to CBN</h1>
    <label>Account Numbers:</label>
    <input type="text" id="acctNumbers" value="" placeholder="Type your numbers!"><br><br>
    <button onclick="customerFunction()">Click me</button>

    <div id="info-1">
    </div>
    <div class="row">
        <div>Deposits</div>
    </div>
    <div id="deposits-container">
    </div>
    <div id="info-2">
    </div>

    <script>
        function customerFunction() {
            var value = document.getElementById('acctNumbers').value;
            var accountNumbers = value.split(',');

            var customerAccount = testFunction(accountNumbers).customerAccount;

            const info1 = [
                {
                    label: "Name",
                    value: customerAccount.name
                },
                {
                    label: "Age",
                    value: customerAccount.age
                }
            ];

            const info2 = [
                {
                    label: "Sex",
                    value: customerAccount.sex
                },
                {
                    label: "DateOpened",
                    value: customerAccount.dateAccWasOpened
                }
            ];

            document.getElementById("info-1").innerHTML = getRows(info1);
            document.getElementById("info-2").innerHTML = getRows(info2);

            // Start Deposits Section 
            const deposits = customerAccount.deposits;

            const depositRows = deposits.map(function (deposit) {
                return '<div class="row">' +
                            '<div></div>' +
                            '<div>' + deposit.amount + '</div>' +
                            '<div>' + deposit.dateOfTransaction + '</div>' +
                        '</div>';
            });

            document.getElementById("deposits-container").innerHTML = depositRows;
            // End Deposits Section

        };

        function getRows(infos) {
            const infoRows = infos.map(function(info){
                return '<div class="row">' +
                            '<div>' + info.label + '</div>' +
                            '<div>' + info.value + '</div>' +
                        '</div>';
            });

            return infoRows;
        }


    </script>




</body>

</html>